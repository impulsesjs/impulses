!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("impulses",[],n):"object"==typeof exports?exports.impulses=n():t.impulses=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var u=e[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";var r=e(1),u=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=new u.default},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=e(2),i=function(t){return t&&t.__esModule?t:{default:t}}(u),o=function t(){function n(t){return void 0!==t.entity&&(void 0!==t.name&&(void 0===t.require||t.require.constructor===Array))}function e(t){var e=[];return t.constructor!==Array&&(t=[t]),t.forEach(function(t){if(n(t)){var r=Object.assign({},t),u=r.entity,o=r.name;delete r.entity,delete r.name,r.channel=new i.default(o),f.hasOwnProperty(u)||Reflect.set(f,u,{});var c=Reflect.getOwnPropertyDescriptor(f,u).value;c.hasOwnProperty(o)||(Reflect.set(c,o,r),e.push(u+"."+o))}}),e}function u(t,n){return!!f.hasOwnProperty(t)&&(null===n||null!==o(t,n))}function o(t,n){if(f.hasOwnProperty(t)){var e=Reflect.getOwnPropertyDescriptor(f,t).value;if(e.hasOwnProperty(n))return Reflect.getOwnPropertyDescriptor(e,n).value.channel}return null}r(this,t);var f={};this.register=function(){return e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])},this.exists=function(t){return u(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)},this.get=function(t,n){return o(t,n)}};n.default=o,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=e(3),o=r(i),f=e(5),c=r(f),a=function t(n){function e(){return T}function r(){return S}function i(){return q}function f(){return q&&I}function a(){return q&&!I}function s(){for(;r(););S=!0}function l(){S=!1}function d(){return!a()&&(q=!0,I=!1,j(),!0)}function h(){return!!i()&&(q=!1,!0)}function p(){return!!a()&&(I=!0,!0)}function v(){return!!f()&&(I=!1,j(),!0)}function y(){return i()?f()?A:M:C}function g(t){return N.add(t)}function w(t){N.cancel(t),O(t)}function O(t){try{var n=L.findIndex(function(n){return n.qid===t});n>=0&&L.splice(n,1)}catch(t){}}function P(t){s();var n=N.get(t);if(l(),null===n)try{var e=L.find(function(n){return n.qid===t});void 0!==e&&(n=e.data)}catch(t){}else n=n.data;return n}function x(t){try{L.forEach(function(n){void 0!==n.data.listener&&(n.data.listener(t),n.data.times>0&&n.data.times--)}),L=L.filter(function(t){return void 0===t.data||void 0===t.data.times||0!==t.data.times})}catch(t){}}function m(t){return V.add(t)}function _(t,n){g(n),m(t)}function b(t){return V.get(t)}function j(){a()&&(R(),D(),setTimeout(j,0))}function R(){if(!r()){s();for(var t=new c.default,n=null,e=N.next();null!==e;){n=t.calculate(e.toString());var u={id:n,qid:e.id,data:e.data};L.push(u),e=N.next()}l()}}function D(){for(var t=V.next();null!==t;)x(t.data),t=V.next()}var E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u(this,t);var C=0,M=1,A=2,S=!1,T=n,q=!0,I=E||!1,L=[],N=new o.default,V=new o.default;!function(){f()||j()}(),this.getName=function(){return e()},this.getStatus=function(){return y()},this.open=function(){return d()},this.close=function(){return h()},this.hold=function(){return p()},this.resume=function(){return v()},this.addListener=function(t){return g(t)},this.removeListener=function(t){return w(t)},this.listenerInfo=function(t){return P(t)},this.send=function(t){return m(t)},this.sendAndListen=function(t,n){return _(t,n)},this.messageInfo=function(t){return b(t)}};n.default=a,t.exports=n.default},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=e(4),i=function(t){return t&&t.__esModule?t:{default:t}}(u),o=function t(){function n(){return d}function e(){for(;n(););d=!0}function u(){d=!1}function o(){if(s.length>0){e();var t=s.shift(),n=a(t);return l.destroy(t),u(),n}return null}function f(t){e();for(var n=Date.now().toString();l.isSet(n);)n=Date.now().toString();return l.set(n,{id:n,data:t}),s.push(n),u(),n}function c(t){var n=s.indexOf(t);if(n>=0){e(),s.splice(n,1);var r=l.destroy(t);return u(),null===r||r}return null}function a(t){return l.get(t)}r(this,t);var s=[],l=new i.default,d=!1;this.next=function(){return o()},this.add=function(t){return f(t)},this.cancel=function(t){return c(t)},this.get=function(t){return a(t)}};n.default=o,t.exports=n.default},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function t(){function n(){s=!0}function e(){return Date.now()/1e3<d}function u(t){var n=t.split("."),e=l;return n.forEach(function(t){e=e.hasOwnProperty(t)?Reflect.getOwnPropertyDescriptor(e,t).value:null}),e}function i(t){var n=t.split(".");if(n.length>1){var e=n[n.length-1];n.splice(n.length-1,1);var r=u(n.join("."));if(!r.hasOwnProperty(e))return!1;Reflect.deleteProperty(r,e)}else{if(!(n.length>0))return!1;if(!l.hasOwnProperty(n[0]))return!1;Reflect.deleteProperty(l,n[0])}return!0}function o(t){var n=t.split("."),e=l,r=null,u=!1;return n.forEach(function(t,i){!u&&e.hasOwnProperty(t)?i<n.length-1?e=Reflect.getOwnPropertyDescriptor(e,t).value:(r=Reflect.getOwnPropertyDescriptor(e,t).value,u=!0):u=!0}),r}function f(t,e){var r=t.split("."),u=l;r.forEach(function(t,i){i<r.length-1?(Reflect.set(u,t,{}),u=Reflect.getOwnPropertyDescriptor(u,t).value):(Reflect.set(u,t,e),n())})}function c(t){return null!==u(t)}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,t);var s=null!==a,l=a||{},d=null;this.isSet=function(){return null!==l},this.isDirty=function(){return s},this.isValid=function(){return e()},this.export=function(){return l},this.set=function(t,n){f(t,n)},this.isSet=function(t){return c(t)},this.get=function(t){return o(t)},this.destroy=function(t){return i(t)}};n.default=u,t.exports=n.default},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function t(){function n(t){for(var n="",e=0;e<4;e++)n+=p[t>>8*e+4&15]+p[t>>8*e&15];return n}function e(t,n){if(h||v){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}return t+n&4294967295}function u(t,n,r,u,i,o){return n=e(e(n,t),e(u,o)),e(n<<i|n>>>32-i,r)}function i(t,n,e,r,i,o,f){return u(n&e|~n&r,t,n,i,o,f)}function o(t,n,e,r,i,o,f){return u(n&r|e&~r,t,n,i,o,f)}function f(t,n,e,r,i,o,f){return u(n^e^r,t,n,i,o,f)}function c(t,n,e,r,i,o,f){return u(e^(n|~r),t,n,i,o,f)}function a(t){for(var n=[],e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function s(t){var e=[];return t.forEach(function(t){e.push(n(t))}),e.join("")}function l(t,n){var r=t[0],u=t[1],a=t[2],s=t[3];r=i(r,u,a,s,n[0],7,-680876936),s=i(s,r,u,a,n[1],12,-389564586),a=i(a,s,r,u,n[2],17,606105819),u=i(u,a,s,r,n[3],22,-1044525330),r=i(r,u,a,s,n[4],7,-176418897),s=i(s,r,u,a,n[5],12,1200080426),a=i(a,s,r,u,n[6],17,-1473231341),u=i(u,a,s,r,n[7],22,-45705983),r=i(r,u,a,s,n[8],7,1770035416),s=i(s,r,u,a,n[9],12,-1958414417),a=i(a,s,r,u,n[10],17,-42063),u=i(u,a,s,r,n[11],22,-1990404162),r=i(r,u,a,s,n[12],7,1804603682),s=i(s,r,u,a,n[13],12,-40341101),a=i(a,s,r,u,n[14],17,-1502002290),u=i(u,a,s,r,n[15],22,1236535329),r=o(r,u,a,s,n[1],5,-165796510),s=o(s,r,u,a,n[6],9,-1069501632),a=o(a,s,r,u,n[11],14,643717713),u=o(u,a,s,r,n[0],20,-373897302),r=o(r,u,a,s,n[5],5,-701558691),s=o(s,r,u,a,n[10],9,38016083),a=o(a,s,r,u,n[15],14,-660478335),u=o(u,a,s,r,n[4],20,-405537848),r=o(r,u,a,s,n[9],5,568446438),s=o(s,r,u,a,n[14],9,-1019803690),a=o(a,s,r,u,n[3],14,-187363961),u=o(u,a,s,r,n[8],20,1163531501),r=o(r,u,a,s,n[13],5,-1444681467),s=o(s,r,u,a,n[2],9,-51403784),a=o(a,s,r,u,n[7],14,1735328473),u=o(u,a,s,r,n[12],20,-1926607734),r=f(r,u,a,s,n[5],4,-378558),s=f(s,r,u,a,n[8],11,-2022574463),a=f(a,s,r,u,n[11],16,1839030562),u=f(u,a,s,r,n[14],23,-35309556),r=f(r,u,a,s,n[1],4,-1530992060),s=f(s,r,u,a,n[4],11,1272893353),a=f(a,s,r,u,n[7],16,-155497632),u=f(u,a,s,r,n[10],23,-1094730640),r=f(r,u,a,s,n[13],4,681279174),s=f(s,r,u,a,n[0],11,-358537222),a=f(a,s,r,u,n[3],16,-722521979),u=f(u,a,s,r,n[6],23,76029189),r=f(r,u,a,s,n[9],4,-640364487),s=f(s,r,u,a,n[12],11,-421815835),a=f(a,s,r,u,n[15],16,530742520),u=f(u,a,s,r,n[2],23,-995338651),r=c(r,u,a,s,n[0],6,-198630844),s=c(s,r,u,a,n[7],10,1126891415),a=c(a,s,r,u,n[14],15,-1416354905),u=c(u,a,s,r,n[5],21,-57434055),r=c(r,u,a,s,n[12],6,1700485571),s=c(s,r,u,a,n[3],10,-1894986606),a=c(a,s,r,u,n[10],15,-1051523),u=c(u,a,s,r,n[1],21,-2054922799),r=c(r,u,a,s,n[8],6,1873313359),s=c(s,r,u,a,n[15],10,-30611744),a=c(a,s,r,u,n[6],15,-1560198380),u=c(u,a,s,r,n[13],21,1309151649),r=c(r,u,a,s,n[4],6,-145523070),s=c(s,r,u,a,n[11],10,-1120210379),a=c(a,s,r,u,n[2],15,718787259),u=c(u,a,s,r,n[9],21,-343485551),t[0]=e(r,t[0]),t[1]=e(u,t[1]),t[2]=e(a,t[2]),t[3]=e(s,t[3])}function d(t){var n=t.length,e=[1732584193,-271733879,-1732584194,271733878],r=void 0;for(r=64;r<=t.length;r+=64)l(e,a(t.substring(r-64,r)));t=t.substring(r-64);var u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)u[r>>2]|=t.charCodeAt(r)<<(r%4<<3);return u[r>>2]|=128<<(r%4<<3),r>55&&(l(e,u),u.fill(0,0,15)),u[14]=8*n,l(e,u),s(e)}var h=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(this,t);var p="0123456789abcdef".split(""),v=!1;(h||"5d41402abc4b2a76b9719d911017c592"!==d("hello"))&&(v=!0),this.calculate=function(t){return d(t)}};n.default=u,t.exports=n.default}])});